/*! obiba-progressbar - v1.0.0-SNAPSHOT
 *  License: GNU Public License version 3
 *  Date: 2015-03-08
 */
!function(a){"use strict";function b(){h(),r.animate({width:"100%"},t)}function c(a,b){null===q&&h(),r.stop().animate({width:a+"%"},250,function(){u=a,m(),b&&r.animate({width:"100%"},t)})}function d(){null!==q&&(r.stop(),l())}function e(){null!==q&&(m(),r.animate({width:"100%"},t),k())}function f(){null===q&&h(),c(Math.min(100,Math.round(u)+10),!0)}function g(){null!==q&&r.stop().animate({width:"100%"},"fast",o)}function h(){null!==q&&i(),r=a('<div class="obiba-progress-bar" ></div>'),s=a('<div class="obiba-progress-spinner"></div>').append(a('<div class="obiba-progress-spinner-icon" ></div>')),q=a("<div></div>").append(r).append(s),a("body").append(q),k()}function i(){null!==q&&(r.stop(),l(),q.remove(),j())}function j(){u=0,v=null,t.duration=9e3}function k(){function a(){s.css({WebkitTransform:"rotate("+b+"deg)"}),s.css({"-moz-transform":"rotate("+b+"deg)"}),v=setTimeout(function(){b+=5,a()},1)}l();var b=0;a()}function l(){clearTimeout(v),v=null}function m(){t.duration=Math.round(.01*p*(100-Math.round(u)))}function n(a){u=a}function o(){q.animate({opacity:0},250,i)}var p=1e4,q=null,r=null,s=null,t={duration:p,complete:o,step:n,easing:"linear"},u=0,v=null;a.ObibaProgressBar=function(){},a.ObibaProgressBar.prototype={start:b,inc:f,set:c,pause:d,resume:e,finish:g}}(jQuery);