!function(a){"use strict";function b(){k(),j()}function c(){null!==u&&(u.stop(),q())}function d(){null!==u&&(r(),j())}function e(){null!==u&&u.stop().animate({width:"100%"},"fast",t)}function f(a){null!==u&&g(Math.min(100,Math.round(w)+a),!0)}function g(a,b){null!==u&&u.stop().animate({width:a+"%"},250,function(){w=a,r(),b&&j()})}function h(a){null!==u&&(u.stop(),y.duration=a,r(),d())}function i(b){null!==b&&(a.each(b,function(a,b){b&&y.hasOwnProperty(a)&&(y[a]=b)}),x.duration=y.duration)}function j(){null!==u&&(u.stop(),u.animate({width:"100%"},x),p())}function k(){null!==u&&n();var b=a(y.template);b&&(a(y.parent).append(b),u=a('[role="bar"]'),u.length>0&&l(),y.showSpinner&&(v=a('[role="spinner"]'),v.length>0&&m(),p()))}function l(){y.barCssOverride&&a.each(y.barCssOverride,function(a,b){u.css(a,b)})}function m(){y.spinnerCssOverride&&a.each(y.spinnerCssOverride,function(b,c){if("iconCssOverride"===b){var d=a(".obiba-progress-spinner-icon",v);return void(d.length>0&&a.each(y.spinnerCssOverride.iconCssOverride,function(a,b){d.css(a,b)}))}v.css(b,c)})}function n(){null!==u&&(u.stop(),q(),u.remove(),null!==v&&v.remove(),o())}function o(){w=0,x.duration=y.duration}function p(){null!==v&&v.removeClass("animation-off")}function q(){null!==v&&v.addClass("animation-off")}function r(){x.duration=Math.round(.01*y.duration*(100-Math.round(w)))}function s(a){w=a}function t(){null===v&&v.animate({opacity:0},250),u.animate({opacity:0},250,n)}var u=null,v=null,w=0,x={duration:15e3,complete:t,step:s,easing:"linear"},y={duration:15e3,showSpinner:!0,parent:"body",template:'<div class="obiba-progress-bar" role="bar"></div><div class="obiba-progress-spinner" role="spinner"><div class="obiba-progress-spinner-icon"></div></div>',barCssOverride:void 0,spinnerCssOverride:void 0};a.ObibaProgressBar=function(a){a&&i(a)},a.ObibaProgressBar.prototype={start:b,pause:c,resume:d,finish:e,inc:f,set:g,duration:h}}(jQuery);